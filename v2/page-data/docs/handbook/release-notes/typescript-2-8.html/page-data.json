{"componentChunkName":"component---src-templates-handbook-tsx","path":"/docs/handbook/release-notes/typescript-2-8.html","result":{"data":{"markdownRemark":{"id":"4662f2d3-9065-55c7-8f89-48c33f5aa689","excerpt":"Conditional Types TypeScript 2.8 introduces conditional types which add the ability to express non-uniform type mappings.\nA conditional type selects one of twoâ€¦","html":"<h2 id=\"conditional-types\"><a href=\"#conditional-types\" aria-label=\"conditional types permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conditional Types</h2>\n<p>TypeScript 2.8 introduces <em>conditional types</em> which add the ability to express non-uniform type mappings.\nA conditional type selects one of two possible types based on a condition expressed as a type relationship test:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #D8DEE9FF\">T </span><span style=\"color: #D8DEE9\">extends</span><span style=\"color: #D8DEE9FF\"> U </span><span style=\"color: #81A1C1\">?</span><span style=\"color: #D8DEE9FF\"> X </span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> Y</span></code></div></pre>\n<p>The type above means when <code>T</code> is assignable to <code>U</code> the type is <code>X</code>, otherwise the type is <code>Y</code>.</p>\n<p>A conditional type <code>T extends U ? X : Y</code> is either <em>resolved</em> to <code>X</code> or <code>Y</code>, or <em>deferred</em> because the condition depends on one or more type variables.\nWhether to resolve or defer is determined as follows:</p>\n<ul>\n<li>First, given types <code>T'</code> and <code>U'</code> that are instantiations of <code>T</code> and <code>U</code> where all occurrences of type parameters are replaced with <code>any</code>, if <code>T'</code> is not assignable to <code>U'</code>, the conditional type is resolved to <code>Y</code>. Intuitively, if the most permissive instantiation of <code>T</code> is not assignable to the most permissive instantiation of <code>U</code>, we know that no instantiation will be and we can just resolve to <code>Y</code>.</li>\n<li>Next, for each type variable introduced by an <code>infer</code> (more later) declaration within <code>U</code> collect a set of candidate types by inferring from <code>T</code> to <code>U</code> (using the same inference algorithm as type inference for generic functions). For a given <code>infer</code> type variable <code>V</code>, if any candidates were inferred from co-variant positions, the type inferred for <code>V</code> is a union of those candidates. Otherwise, if any candidates were inferred from contra-variant positions, the type inferred for <code>V</code> is an intersection of those candidates. Otherwise, the type inferred for <code>V</code> is <code>never</code>.</li>\n<li>Then, given a type <code>T''</code> that is an instantiation of <code>T</code> where all <code>infer</code> type variables are replaced with the types inferred in the previous step, if <code>T''</code> is <em>definitely assignable</em> to <code>U</code>, the conditional type is resolved to <code>X</code>. The definitely assignable relation is the same as the regular assignable relation, except that type variable constraints are not considered. Intuitively, when a type is definitely assignable to another type, we know that it will be assignable for <em>all instantiations</em> of those types.</li>\n<li>Otherwise, the condition depends on one or more type variables and the conditional type is deferred.</li>\n</ul>\n<h5 id=\"example\"><a href=\"#example\" aria-label=\"example permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h5>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">TypeName</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">string</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> :</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">number</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> :</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">boolean</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">boolean</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> :</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">undefined</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">undefined</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> :</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Function</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">function</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> :</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">object</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T0</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">TypeName</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"string\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T1</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">TypeName</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">a</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"string\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T2</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">TypeName</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">true</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"boolean\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T3</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">TypeName</span><span style=\"color: #ECEFF4\">&lt;()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"function\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T4</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">TypeName</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"object\"</span></code></div></pre>\n<h2 id=\"distributive-conditional-types\"><a href=\"#distributive-conditional-types\" aria-label=\"distributive conditional types permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Distributive conditional types</h2>\n<p>Conditional types in which the checked type is a naked type parameter are called <em>distributive conditional types</em>.\nDistributive conditional types are automatically distributed over union types during instantiation.\nFor example, an instantiation of <code>T extends U ? X : Y</code> with the type argument <code>A | B | C</code> for <code>T</code> is resolved as <code>(A extends U ? X : Y) | (B extends U ? X : Y) | (C extends U ? X : Y)</code>.</p>\n<h5 id=\"example-1\"><a href=\"#example-1\" aria-label=\"example 1 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h5>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T10</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">TypeName</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"string\" | \"function\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T12</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">TypeName</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\">[] </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">undefined</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"string\" | \"object\" | \"undefined\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T11</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">TypeName</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\">[] </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"object\"</span></code></div></pre>\n<p>In instantiations of a distributive conditional type <code>T extends U ? X : Y</code>, references to <code>T</code> within the conditional type are resolved to individual constituents of the union type (i.e. <code>T</code> refers to the individual constituents <em>after</em> the conditional type is distributed over the union type).\nFurthermore, references to <code>T</code> within <code>X</code> have an additional type parameter constraint <code>U</code> (i.e. <code>T</code> is considered assignable to <code>U</code> within <code>X</code>).</p>\n<h5 id=\"example-2\"><a href=\"#example-2\" aria-label=\"example 2 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h5>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">BoxedValue</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> value</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">BoxedArray</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> array</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">[] </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Boxed</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #D8DEE9FF\">[] ? </span><span style=\"color: #8FBCBB\">BoxedArray</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\">]</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">BoxedValue</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T20</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Boxed</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// BoxedValue&lt;string&gt;;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T21</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Boxed</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// BoxedArray&lt;number&gt;;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T22</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Boxed</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// BoxedValue&lt;string&gt; | BoxedArray&lt;number&gt;;</span></code></div></pre>\n<p>Notice that <code>T</code> has the additional constraint <code>any[]</code> within the true branch of <code>Boxed&#x3C;T></code> and it is therefore possible to refer to the element type of the array as <code>T[number]</code>. Also, notice how the conditional type is distributed over the union type in the last example.</p>\n<p>The distributive property of conditional types can conveniently be used to <em>filter</em> union types:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Diff</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">never</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Remove types from T that are assignable to U</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Filter</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">never</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Remove types from T that are not assignable to U</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T30</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Diff</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">a</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">b</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">c</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">d</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">a</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">c</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">f</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"b\" | \"d\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T31</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Filter</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">a</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">b</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">c</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">d</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">a</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">c</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">f</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"a\" | \"c\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T32</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Diff</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Function</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string | number</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T33</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Filter</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Function</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// () =&gt; void</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonNullable</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Diff</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">null</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">undefined</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Remove null and undefined from T</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T34</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonNullable</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">undefined</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string | number</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T35</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonNullable</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\">[] </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">null</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">undefined</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string | string[]</span>\n\n<span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">f1</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonNullable</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Ok</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Error</span>\n<span style=\"color: #ECEFF4\">}</span>\n\n<span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">f2</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">undefined</span><span style=\"color: #ECEFF4\">&gt;(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonNullable</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Ok</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Error</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">let</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">s1</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Error</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">let</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">s2</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">y</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Ok</span>\n<span style=\"color: #ECEFF4\">}</span></code></div></pre>\n<p>Conditional types are particularly useful when combined with mapped types:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">FunctionPropertyNames</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> [K </span><span style=\"color: #81A1C1\">in</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">keyof</span><span style=\"color: #D8DEE9FF\"> T]</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #8FBCBB\">K</span><span style=\"color: #D8DEE9FF\">] </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Function</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">K</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">never</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #81A1C1\">keyof</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">]</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">FunctionProperties</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Pick</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">FunctionPropertyNames</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;&gt;</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonFunctionPropertyNames</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> [K </span><span style=\"color: #81A1C1\">in</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">keyof</span><span style=\"color: #D8DEE9FF\"> T]</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #8FBCBB\">K</span><span style=\"color: #D8DEE9FF\">] </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Function</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">never</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">K</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #81A1C1\">keyof</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">]</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonFunctionProperties</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Pick</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonFunctionPropertyNames</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;&gt;</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #81A1C1\">interface</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Part</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">    id</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">    name</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">    subparts</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Part</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #88C0D0\">updatePart</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">newName</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #ECEFF4\">}</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T40</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">FunctionPropertyNames</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Part</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"updatePart\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T41</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonFunctionPropertyNames</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Part</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"id\" | \"name\" | \"subparts\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T42</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">FunctionProperties</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Part</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// { updatePart(newName: string): void }</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T43</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonFunctionProperties</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Part</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// { id: number, name: string, subparts: Part[] }</span></code></div></pre>\n<p>Similar to union and intersection types, conditional types are not permitted to reference themselves recursively.\nFor example the following is an error.</p>\n<h5 id=\"example-3\"><a href=\"#example-3\" aria-label=\"example 3 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h5>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ElementType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #D8DEE9FF\">[] ? </span><span style=\"color: #8FBCBB\">ElementType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\">]</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Error</span></code></div></pre>\n<h2 id=\"type-inference-in-conditional-types\"><a href=\"#type-inference-in-conditional-types\" aria-label=\"type inference in conditional types permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Type inference in conditional types</h2>\n<p>Within the <code>extends</code> clause of a conditional type, it is now possible to have <code>infer</code> declarations that introduce a type variable to be inferred.\nSuch inferred type variables may be referenced in the true branch of the conditional type.\nIt is possible to have multiple <code>infer</code> locations for the same type variable.</p>\n<p>For example, the following extracts the return type of a function type:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #81A1C1\">...</span><span style=\"color: #D8DEE9\">args</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">R</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">R</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #81A1C1\">;</span></code></div></pre>\n<p>Conditional types can be nested to form a sequence of pattern matches that are evaluated in order:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Unpacked</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\">)[] ? </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> :</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #81A1C1\">...</span><span style=\"color: #D8DEE9\">args</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> :</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Promise</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> :</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T0</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Unpacked</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T1</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Unpacked</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T2</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Unpacked</span><span style=\"color: #ECEFF4\">&lt;()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T3</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Unpacked</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Promise</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T4</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Unpacked</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Promise</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Promise&lt;string&gt;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T5</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Unpacked</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Unpacked</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Promise</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">&gt;&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string</span></code></div></pre>\n<p>The following example demonstrates how multiple candidates for the same type variable in co-variant positions causes a union type to be inferred:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Foo</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> a</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> b</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">never</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T10</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Foo</span><span style=\"color: #ECEFF4\">&lt;{</span><span style=\"color: #D8DEE9FF\"> a</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> b</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T11</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Foo</span><span style=\"color: #ECEFF4\">&lt;{</span><span style=\"color: #D8DEE9FF\"> a</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> b</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string | number</span></code></div></pre>\n<p>Likewise, multiple candidates for the same type variable in contra-variant positions causes an intersection type to be inferred:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Bar</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">a</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">b</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">never</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T20</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Bar</span><span style=\"color: #ECEFF4\">&lt;{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">a</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">b</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T21</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Bar</span><span style=\"color: #ECEFF4\">&lt;{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">a</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">b</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string & number</span></code></div></pre>\n<p>When inferring from a type with multiple call signatures (such as the type of an overloaded function), inferences are made from the <em>last</em> signature (which, presumably, is the most permissive catch-all case).\nIt is not possible to perform overload resolution based on a list of argument types.</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">declare</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">foo</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">declare</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">foo</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">declare</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">foo</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">x</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T30</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #81A1C1\">typeof</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">foo</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string | number</span></code></div></pre>\n<p>It is not possible to use <code>infer</code> declarations in constraint clauses for regular type parameters:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #81A1C1\">...</span><span style=\"color: #D8DEE9\">args</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">R</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">R</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Error, not supported</span></code></div></pre>\n<p>However, much the same effect can be obtained by erasing the type variables in the constraint and instead specifying a conditional type:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">AnyFunction</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #81A1C1\">...</span><span style=\"color: #D8DEE9\">args</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">AnyFunction</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #81A1C1\">...</span><span style=\"color: #D8DEE9\">args</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">infer</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">R</span><span style=\"color: #D8DEE9FF\"> ? </span><span style=\"color: #8FBCBB\">R</span><span style=\"color: #D8DEE9FF\"> : </span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #81A1C1\">;</span></code></div></pre>\n<h2 id=\"predefined-conditional-types\"><a href=\"#predefined-conditional-types\" aria-label=\"predefined conditional types permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Predefined conditional types</h2>\n<p>TypeScript 2.8 adds several predefined conditional types to <code>lib.d.ts</code>:</p>\n<ul>\n<li><code>Exclude&#x3C;T, U></code> â€” Exclude from <code>T</code> those types that are assignable to <code>U</code>.</li>\n<li><code>Extract&#x3C;T, U></code> â€” Extract from <code>T</code> those types that are assignable to <code>U</code>.</li>\n<li><code>NonNullable&#x3C;T></code> â€” Exclude <code>null</code> and <code>undefined</code> from <code>T</code>.</li>\n<li><code>ReturnType&#x3C;T></code> â€” Obtain the return type of a function type.</li>\n<li><code>InstanceType&#x3C;T></code> â€” Obtain the instance type of a constructor function type.</li>\n</ul>\n<h5 id=\"example-4\"><a href=\"#example-4\" aria-label=\"example 4 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h5>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T00</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Exclude</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">a</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">b</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">c</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">d</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">a</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">c</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">f</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"b\" | \"d\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T01</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Extract</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">a</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">b</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">c</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">d</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">a</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">c</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">f</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"a\" | \"c\"</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T02</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Exclude</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Function</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string | number</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T03</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Extract</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Function</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// () =&gt; void</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T04</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonNullable</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">undefined</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string | number</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T05</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">NonNullable</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\">) </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\">[] </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">null</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">|</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">undefined</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// (() =&gt; string) | string[]</span>\n\n<span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">f1</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">s</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">return</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">a</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">b</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">s</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #ECEFF4\">}</span>\n\n<span style=\"color: #81A1C1\">class</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">C</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">    x </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">0</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">    y </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">0</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #ECEFF4\">}</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T10</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// string</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T11</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;(</span><span style=\"color: #D8DEE9\">s</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">void</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// void</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T12</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// {}</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T13</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">extends</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">number</span><span style=\"color: #D8DEE9FF\">[]</span><span style=\"color: #ECEFF4\">&gt;()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// number[]</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T14</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #81A1C1\">typeof</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">f1</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// { a: number, b: string }</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T15</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// any</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T16</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">never</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// any</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T17</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Error</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T18</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReturnType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Function</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Error</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T20</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">InstanceType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #81A1C1\">typeof</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">C</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// C</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T21</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">InstanceType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">any</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// any</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T22</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">InstanceType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">never</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// any</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T23</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">InstanceType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Error</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T24</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">InstanceType</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Function</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Error</span></code></div></pre>\n<blockquote>\n<p>Note: The <code>Exclude</code> type is a proper implementation of the <code>Diff</code> type suggested <a href=\"https://github.com/Microsoft/TypeScript/issues/12215#issuecomment-307871458\">here</a>. Weâ€™ve used the name <code>Exclude</code> to avoid breaking existing code that defines a <code>Diff</code>, plus we feel that name better conveys the semantics of the type. We did not include the <code>Omit&#x3C;T, K></code> type because it is trivially written as <code>Pick&#x3C;T, Exclude&#x3C;keyof T, K>></code>.</p>\n</blockquote>\n<h2 id=\"improved-control-over-mapped-type-modifiers\"><a href=\"#improved-control-over-mapped-type-modifiers\" aria-label=\"improved control over mapped type modifiers permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Improved control over mapped type modifiers</h2>\n<p>Mapped types support adding a <code>readonly</code> or <code>?</code> modifier to a mapped property, but they did not provide support the ability to <em>remove</em> modifiers.\nThis matters in <a href=\"https://github.com/Microsoft/TypeScript/pull/12563\"><em>homomorphic mapped types</em></a> which by default preserve the modifiers of the underlying type.</p>\n<p>TypeScript 2.8 adds the ability for a mapped type to either add or remove a particular modifier.\nSpecifically, a <code>readonly</code> or <code>?</code> property modifier in a mapped type can now be prefixed with either <code>+</code> or <code>-</code> to indicate that the modifier should be added or removed.</p>\n<h4 id=\"example-5\"><a href=\"#example-5\" aria-label=\"example 5 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h4>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">MutableRequired</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> -readonly [P in keyof T]-?</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #8FBCBB\">P</span><span style=\"color: #D8DEE9FF\">] </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Remove readonly and ?</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReadonlyPartial</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> +readonly [P in keyof T]+?</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #8FBCBB\">P</span><span style=\"color: #D8DEE9FF\">] </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Add readonly and ?</span></code></div></pre>\n<p>A modifier with no <code>+</code> or <code>-</code> prefix is the same as a modifier with a <code>+</code> prefix. So, the <code>ReadonlyPartial&#x3C;T></code> type above corresponds to</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">ReadonlyPartial</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">readonly</span><span style=\"color: #D8DEE9FF\"> [P </span><span style=\"color: #81A1C1\">in</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">keyof</span><span style=\"color: #D8DEE9FF\"> T]</span><span style=\"color: #81A1C1\">?:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #8FBCBB\">P</span><span style=\"color: #D8DEE9FF\">] </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Add readonly and ?</span></code></div></pre>\n<p>Using this ability, <code>lib.d.ts</code> now has a new  <code>Required&#x3C;T></code> type.\nThis type strips <code>?</code> modifiers from all properties of <code>T</code>, thus making all properties required.</p>\n<h5 id=\"example-6\"><a href=\"#example-6\" aria-label=\"example 6 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h5>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Required</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> [P in keyof T]-?</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\">[</span><span style=\"color: #8FBCBB\">P</span><span style=\"color: #D8DEE9FF\">] </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span></code></div></pre>\n<p>Note that in <code>--strictNullChecks</code> mode, when a homomorphic mapped type removes a <code>?</code> modifier from a property in the underlying type it also removes <code>undefined</code> from the type of that property:</p>\n<h5 id=\"example-7\"><a href=\"#example-7\" aria-label=\"example 7 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h5>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Foo</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> a</span><span style=\"color: #81A1C1\">?:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Same as { a?: string | undefined }</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Bar</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">Required</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">Foo</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// Same as { a: string }</span></code></div></pre>\n<h2 id=\"improved-keyof-with-intersection-types\"><a href=\"#improved-keyof-with-intersection-types\" aria-label=\"improved keyof with intersection types permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Improved <code>keyof</code> with intersection types</h2>\n<p>With TypeScript 2.8 <code>keyof</code> applied to an intersection type is transformed to a union of <code>keyof</code> applied to each intersection constituent.\nIn other words, types of the form <code>keyof (A &#x26; B)</code> are transformed to be <code>keyof A | keyof B</code>.\nThis change should address inconsistencies with inference from <code>keyof</code> expressions.</p>\n<h5 id=\"example-8\"><a href=\"#example-8\" aria-label=\"example 8 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h5>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">A</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> a</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">B</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> b</span><span style=\"color: #81A1C1\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">string</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span>\n\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T1</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">keyof</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #8FBCBB\">A</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">&</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">B</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"a\" | \"b\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T2</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">keyof</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">&</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">B</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// keyof T | \"b\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T3</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">keyof</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #8FBCBB\">A</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">&</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"a\" | keyof U</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T4</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">keyof</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #8FBCBB\">T</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">&</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">U</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// keyof T | keyof U</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T5</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T2</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">A</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"a\" | \"b\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T6</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T3</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">B</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"a\" | \"b\"</span>\n<span style=\"color: #81A1C1\">type</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T7</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">T4</span><span style=\"color: #ECEFF4\">&lt;</span><span style=\"color: #8FBCBB\">A</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">B</span><span style=\"color: #ECEFF4\">&gt;</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #4C566A\">// \"a\" | \"b\"</span></code></div></pre>\n<h2 id=\"better-handling-for-namespace-patterns-in-js-files\"><a href=\"#better-handling-for-namespace-patterns-in-js-files\" aria-label=\"better handling for namespace patterns in js files permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Better handling for namespace patterns in <code>.js</code> files</h2>\n<p>TypeScript 2.8 adds support for understanding more namespace patterns in <code>.js</code> files.\nEmpty object literals declarations on top level, just like functions and classes, are now recognized as as namespace declarations in JavaScript.</p>\n<pre class=\"shiki\"><div class=\"language-id\">js</div><div class='code-container'><code><span style=\"color: #81A1C1\">var</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">ns</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{}</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\">     </span><span style=\"color: #4C566A\">// recognized as a declaration for a namespace `ns`</span>\n<span style=\"color: #D8DEE9\">ns</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">constant</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #4C566A\">// recognized as a declaration for var `constant`</span></code></div></pre>\n<p>Assignments at the top-level should behave the same way; in other words, a <code>var</code> or <code>const</code> declaration is not required.</p>\n<pre class=\"shiki\"><div class=\"language-id\">js</div><div class='code-container'><code><span style=\"color: #D8DEE9\">app</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{}</span><span style=\"color: #81A1C1\">;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #4C566A\">// does NOT need to be `var app = {}`</span>\n<span style=\"color: #D8DEE9\">app</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">C </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">class</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9\">app</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">f</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9\">app</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">prop</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #81A1C1\">;</span></code></div></pre>\n<h2 id=\"iifes-as-namespace-declarations\"><a href=\"#iifes-as-namespace-declarations\" aria-label=\"iifes as namespace declarations permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IIFEs as namespace declarations</h2>\n<p>An IIFE returning a function, class or empty object literal, is also recognized as a namespace:</p>\n<pre class=\"shiki\"><div class=\"language-id\">js</div><div class='code-container'><code><span style=\"color: #81A1C1\">var</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">C</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> (</span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">C</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">n</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #81A1C1\">this</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">p</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">n</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #ECEFF4\">}</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #81A1C1\">return</span><span style=\"color: #D8DEE9FF\"> C</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\">)()</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">C</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">staticProperty</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">1</span><span style=\"color: #81A1C1\">;</span></code></div></pre>\n<h2 id=\"defaulted-declarations\"><a href=\"#defaulted-declarations\" aria-label=\"defaulted declarations permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Defaulted declarations</h2>\n<p>â€œDefaulted declarationsâ€ allow initializers that reference the declared name in the left side of a logical or:</p>\n<pre class=\"shiki\"><div class=\"language-id\">js</div><div class='code-container'><code><span style=\"color: #D8DEE9\">my</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> window</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">my</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">||</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9\">my</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">app</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">my</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">app</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">||</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{}</span><span style=\"color: #81A1C1\">;</span></code></div></pre>\n<h2 id=\"prototype-assignment\"><a href=\"#prototype-assignment\" aria-label=\"prototype assignment permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Prototype assignment</h2>\n<p>You can assign an object literal directly to the prototype property. Individual prototype assignments still work too:</p>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #81A1C1\">var</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">C</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">p</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #81A1C1\">this</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">p</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">p</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #8FBCBB\">C</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">prototype</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #88C0D0\">m</span><span style=\"color: #ECEFF4\">()</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">    </span><span style=\"color: #8FBCBB\">console</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">log</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #81A1C1\">this</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">p</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #ECEFF4\">}</span>\n<span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #8FBCBB\">C</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">prototype</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">q</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">function</span><span style=\"color: #ECEFF4\">(</span><span style=\"color: #D8DEE9\">r</span><span style=\"color: #ECEFF4\">)</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span>\n<span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #81A1C1\">return</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">this</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">p</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">===</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">r</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span></code></div></pre>\n<h2 id=\"nested-and-merged-declarations\"><a href=\"#nested-and-merged-declarations\" aria-label=\"nested and merged declarations permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Nested and merged declarations</h2>\n<p>Nesting works to any level now, and merges correctly across files. Previously neither was the case.</p>\n<pre class=\"shiki\"><div class=\"language-id\">js</div><div class='code-container'><code><span style=\"color: #81A1C1\">var</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">app</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> window</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9\">app</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">||</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{}</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9\">app</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #D8DEE9FF\">C </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">class</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #81A1C1\">;</span></code></div></pre>\n<h2 id=\"per-file-jsx-factories\"><a href=\"#per-file-jsx-factories\" aria-label=\"per file jsx factories permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Per-file JSX factories</h2>\n<p>TypeScript 2.8 adds support for a per-file configurable JSX factory name using <code>@jsx dom</code> pragma.\nJSX factory can be configured for a compilation using <code>--jsxFactory</code> (default is <code>React.createElement</code>). With TypeScript 2.8 you can override this on a per-file-basis by adding a comment to the beginning of the file.</p>\n<h5 id=\"example-9\"><a href=\"#example-9\" aria-label=\"example 9 permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Example</h5>\n<pre class=\"shiki\"><div class=\"language-id\">ts</div><div class='code-container'><code><span style=\"color: #4C566A\">/** @jsx dom */</span>\n<span style=\"color: #81A1C1\">import</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">dom</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">}</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">from</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">./renderer</span><span style=\"color: #ECEFF4\">\"</span>\n<span style=\"color: #81A1C1\">&lt;</span><span style=\"color: #D8DEE9\">h</span><span style=\"color: #81A1C1\">&gt;</span><span style=\"color: #D8DEE9FF\">&lt;/</span><span style=\"color: #8FBCBB\">h</span><span style=\"color: #D8DEE9FF\">&gt;</span></code></div></pre>\n<p>Generates:</p>\n<pre class=\"shiki\"><div class=\"language-id\">js</div><div class='code-container'><code><span style=\"color: #81A1C1\">var</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">renderer_1</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">=</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #88C0D0\">require</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">./renderer</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #81A1C1\">;</span>\n<span style=\"color: #D8DEE9\">renderer_1</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">dom</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #A3BE8C\">h</span><span style=\"color: #ECEFF4\">\"</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">null</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #81A1C1\">;</span></code></div></pre>\n<h2 id=\"locally-scoped-jsx-namespaces\"><a href=\"#locally-scoped-jsx-namespaces\" aria-label=\"locally scoped jsx namespaces permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Locally scoped JSX namespaces</h2>\n<p>JSX type checking is driven by definitions in a JSX namespace, for instance <code>JSX.Element</code> for the type of a JSX element, and <code>JSX.IntrinsicElements</code> for built-in elements.\nBefore TypeScript 2.8 the <code>JSX</code> namespace was expected to be in the global namespace, and thus only allowing one to be defined in a project.\nStarting with TypeScript 2.8 the <code>JSX</code> namespace will be looked under the <code>jsxNamespace</code> (e.g. <code>React</code>) allowing for multiple jsx factories in one compilation.\nFor backward compatibility the global <code>JSX</code> namespace is used as a fallback if none was defined on the factory function.\nCombined with the per-file <code>@jsx</code> pragma, each file can have a different JSX factory.</p>\n<h2 id=\"new---emitdeclarationonly\"><a href=\"#new---emitdeclarationonly\" aria-label=\"new   emitdeclarationonly permalink\" class=\"anchor\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>New <code>--emitDeclarationOnly</code></h2>\n<p><code>--emitDeclarationOnly</code> allows for <em>only</em> generating declaration files; <code>.js</code>/<code>.jsx</code> output generation will be skipped with this flag. The flag is useful when the <code>.js</code> output generation is handled by a different transpiler like Babel.</p>","headings":[{"value":"Conditional Types","depth":2},{"value":"Example","depth":5},{"value":"Distributive conditional types","depth":2},{"value":"Example","depth":5},{"value":"Example","depth":5},{"value":"Example","depth":5},{"value":"Type inference in conditional types","depth":2},{"value":"Predefined conditional types","depth":2},{"value":"Example","depth":5},{"value":"Improved control over mapped type modifiers","depth":2},{"value":"Example","depth":4},{"value":"Example","depth":5},{"value":"Example","depth":5},{"value":"Improved keyof with intersection types","depth":2},{"value":"Example","depth":5},{"value":"Better handling for namespace patterns in .js files","depth":2},{"value":"IIFEs as namespace declarations","depth":2},{"value":"Defaulted declarations","depth":2},{"value":"Prototype assignment","depth":2},{"value":"Nested and merged declarations","depth":2},{"value":"Per-file JSX factories","depth":2},{"value":"Example","depth":5},{"value":"Locally scoped JSX namespaces","depth":2},{"value":"New --emitDeclarationOnly","depth":2}],"frontmatter":{"permalink":"/docs/handbook/release-notes/typescript-2-8.html","title":"TypeScript 2.8"}}},"pageContext":{"slug":"/docs/handbook/release-notes/typescript-2-8.html","isOldHandbook":true}}}